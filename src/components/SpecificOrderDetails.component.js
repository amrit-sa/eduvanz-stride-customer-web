import React, { Component } from "react"
import Helmet from "react-helmet";
import HeaderNew from "../common/headerNew";
import { connect } from 'react-redux';
import { asset } from "../common/assets";
import $ from "jquery"
import About from "../common/about";
import { getHelpSuport, getSpecificDetails } from '../actions/user';


class SpecificOrderDetails extends Component {
  constructor(props) {
    super(props);
    this.state = {
      category: null,
      help_support: [],
      ques_ans: [],
      showing_answer: false,
      answer: ""
    };
  }

  componentDidMount() {

    let qr = new URLSearchParams(window.location.search);
    let s_id = qr.get("soid");
     
    this.props.dispatch(getSpecificDetails(s_id)).then((response) => {
      if (response.status === "success") {
        this.setState({ help_support: response['specificquery'][0].data })
        this.setState({ help_support_similarquery: response['specificquery'][0].similarquery })
        // let selected_data = response.data.filter((obj)=>{
        //   return obj.id === s_id
        // })
      //  console.log(this.state.help_support +"ooooooooooooooooo");
      }
    })


  }


  render() {
    const { user, username, isSearching, searchDet, history } = this.props;
    const { help_support , help_support_similarquery } = this.state
    return (
      <>
        <Helmet>
          <title> Specific Order Details </title>
          <link rel="icon" type="image/png" href="images/icons/favicon.png" />
        </Helmet>
        <HeaderNew
          username={username ? username : ''}
          user={user ? user : ''}
          history={this.props.history}
          isSearching={isSearching}
          searchDet={searchDet}
        />
        <div className="inner-page support">
          <div className="container mb-5"> 
            <div className='row'>
              <div className='col-lg-12'>
                <div className='breadCrumb_wrapper pt-3'>
                  <ul className="breadcrumb_menu d-flex flex-wrap">
                    <li><a href="#">Store</a></li>
                    <li><a href="#">Profile</a></li>
                    <li><a href="#">Help & Support</a></li>
                    <li><a href="#">Order Related</a></li>
                    <li><a href="#">Specific Order Issue</a></li>
                  </ul>
                </div>
              </div>
            </div>

            <div className="row mt-lg-3 mb-3">
              <div class="col-sm-12 manage_bck">
                <a href="/setting"><span>Specific Order Issue</span></a>
              </div> 

              <div className="fineTab col-sm-12 d-flex">
              
                <div class="tab-content col-lg-7 col-md-7 col-sm-12 col-xs-12" id="nav-tabContent" >
                  <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
                    <div class="fine_content">

                      <h6>{help_support && Object.keys(help_support).length >0 && help_support.question}</h6>

                      <ul class="pl-3 orderLi">

                        <li>{help_support && Object.keys(help_support).length >0 && this.state.help_support.answer}</li>

                      </ul>
                    </div>

                    <div className="orderRelated">
                      <h6>Related Questions</h6>

                      <ul class="p-0 m-0">
                      { help_support_similarquery && Object.keys(help_support_similarquery).length >0 && help_support_similarquery.map((ele,index) => (
                        <li><a href={'specific-order-detail?soid='+ele.id}>{ele.question}</a></li>
                      ))
                      }
                      </ul>
                    </div>
                  </div>
                  <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                    <div class="fine_content">

                      <h6>Data Privacy</h6>

                      <ul class="pl-3">

                        <li><b>Stride Act:</b> This document is an electronic record in terms of Information Technology Act, 2000 and rules there under as applicable and the amended provisions pertaining to electronic records in various statutes as amended by the Information Technology Act, 2000. This electronic record is generated by a computer system and does not require any physical or digital signatures.
                        </li>
                        
                        <li><b>Act No. 3:</b> This document is published in accordance with the provisions of Rule 3 (1) of the Information Technology (Intermediaries guidelines) Rules, 2011 that require publishing the rules and regulations, privacy policy and Terms of Use for access or usage of careers.myntra.com, life.myntra.com & blog.myntra.com website.
                        </li>

                        <li><b>Product Policy:</b> The use of any product, service or feature (the “Materials”) available through careers.myntra.com, life.myntra.com & blog.myntra.com (hereinafter referred to as “Website”) is owned by Myntra Designs Private Limited, a company incorporated under the Companies Act, 1956 with its registered office at 3rd floor, AKR Tech Park, 7th Mile, Krishna Reddy Industrial Area, Kudlu Gate, Bangalore-560068, Karnataka, India (hereinafter referred to as “Myntra”).
                        </li>

                        <li><b>Purpose of Terms:</b>For the purpose of these Terms of Use, wherever the context so requires “You” or “User” shall mean any natural or legal person who visits or uses the Website. Myntra allows the User to surf the Website without registering on the Website. The term “We”, “Us”, “Our” shall mean Myntra Designs Private Limited.
                        </li>

                        <li><b>Purpose of Terms:</b>For the purpose of these Terms of Use, wherever the context so requires “You” or “User” shall mean any natural or legal person who visits or uses the Website. 
                        </li>

                        <li><b>Purpose of Terms:</b>For the purpose of these Terms of Use, wherever the context so requires “You” or “User” shall mean any natural or legal person who visits or uses the Website. Myntra allows the User to surf the Website without registering on the Website. The term “We”, “Us”, “Our” shall mean Myntra Designs Private Limited.
                        </li>

                      </ul>
                    </div>
                  </div>
                  <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
                    <div class="fine_content">

                      <h6>Legal</h6>

                      <ul class="pl-3">

                        <li><b>Stride Act:</b> This document is an electronic record in terms of Information Technology Act, 2000 and rules there under as applicable and the amended provisions pertaining to electronic records in various statutes as amended by the Information Technology Act, 2000. This electronic record is generated by a computer system and does not require any physical or digital signatures.
                        </li>
                        
                        <li><b>Act No. 3:</b> This document is published in accordance with the provisions of Rule 3 (1) of the Information Technology (Intermediaries guidelines) Rules, 2011 that require publishing the rules and regulations, privacy policy and Terms of Use for access or usage of careers.myntra.com, life.myntra.com & blog.myntra.com website.
                        </li>

                        <li><b>Product Policy:</b> The use of any product, service or feature (the “Materials”) available through careers.myntra.com, life.myntra.com & blog.myntra.com (hereinafter referred to as “Website”) is owned by Myntra Designs Private Limited, a company incorporated under the Companies Act, 1956 with its registered office at 3rd floor, AKR Tech Park, 7th Mile, Krishna Reddy Industrial Area, Kudlu Gate, Bangalore-560068, Karnataka, India (hereinafter referred to as “Myntra”).
                        </li>

                        <li><b>Purpose of Terms:</b>For the purpose of these Terms of Use, wherever the context so requires “You” or “User” shall mean any natural or legal person who visits or uses the Website. Myntra allows the User to surf the Website without registering on the Website. The term “We”, “Us”, “Our” shall mean Myntra Designs Private Limited.
                        </li>

                        <li><b>Purpose of Terms:</b>For the purpose of these Terms of Use, wherever the context so requires “You” or “User” shall mean any natural or legal person who visits or uses the Website. 
                        </li>

                        <li><b>Purpose of Terms:</b>For the purpose of these Terms of Use, wherever the context so requires “You” or “User” shall mean any natural or legal person who visits or uses the Website. Myntra allows the User to surf the Website without registering on the Website. The term “We”, “Us”, “Our” shall mean Myntra Designs Private Limited.
                        </li>

                      </ul>
                      </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
          
        </div>
      </>
    );
  }
}

function mapStateToProps(state) {
  const { user, sfid, username, isLoading } = state.auth;
  const { isSearching, searchDet } = state.product
  return {
    isSearching,
    isLoading,
    searchDet,
    username,
    user,
    sfid
  };
}

export default connect(mapStateToProps)(SpecificOrderDetails);
